#-----------------------------------------------------------------------------
# NimBLE controller
#
# @file CMakeLists.txt
#-----------------------------------------------------------------------------

ADD_DEFINITIONS (-DBLE_CONTROLLER=1)
ADD_DEFINITIONS (-DBLE_HW_WHITELIST_ENABLE=1)
ADD_DEFINITIONS (-DBLE_LL_SYSVIEW=0)
ADD_DEFINITIONS (-DBLE_LL_PRIO=0)
ADD_DEFINITIONS (-DBLE_LL_OUR_SCA=60)
ADD_DEFINITIONS (-DBLE_LL_MASTER_SCA=4)
ADD_DEFINITIONS (-DBLE_LL_TX_PWR_DBM=0)
ADD_DEFINITIONS (-DBLE_NUM_COMP_PKT_RATE="\(2 * OS_TICKS_PER_SEC\)")
ADD_DEFINITIONS (-DBLE_LL_MFRG_ID=0xFFFF)
ADD_DEFINITIONS (-DBLE_LL_NUM_SCAN_DUP_ADVS=8)
ADD_DEFINITIONS (-DBLE_LL_NUM_SCAN_RSP_ADVS=8)
ADD_DEFINITIONS (-DBLE_LL_WHITELIST_SIZE=8)
ADD_DEFINITIONS (-DBLE_LL_RESOLV_LIST_SIZE=4)
ADD_DEFINITIONS (-DBLE_LL_MAX_PKT_SIZE=251)
ADD_DEFINITIONS (-DBLE_LL_SUPP_MAX_RX_BYTES=BLE_LL_MAX_PKT_SIZE)
ADD_DEFINITIONS (-DBLE_LL_SUPP_MAX_TX_BYTES=BLE_LL_MAX_PKT_SIZE)
ADD_DEFINITIONS (-DBLE_LL_CONN_INIT_MAX_TX_BYTES=27)
ADD_DEFINITIONS (-DBLE_LL_CONN_INIT_SLOTS=4)
ADD_DEFINITIONS (-DBLE_LL_CONN_INIT_MIN_WIN_OFFSET=0)
ADD_DEFINITIONS (-DBLE_LL_STRICT_CONN_SCHEDULING=0)
ADD_DEFINITIONS (-DBLE_LL_ADD_STRICT_SCHED_PERIODS=0)
ADD_DEFINITIONS (-DBLE_LL_USECS_PER_PERIOD=3250)
ADD_DEFINITIONS (-DBLE_LL_RNG_BUFSIZE=32)
ADD_DEFINITIONS (-DBLE_XTAL_SETTLE_TIME=0)
ADD_DEFINITIONS (-DBLE_LL_CFG_FEAT_LE_ENCRYPTION=1)
ADD_DEFINITIONS (-DBLE_LL_CFG_FEAT_CONN_PARAM_REQ=1)
ADD_DEFINITIONS (-DBLE_LL_CFG_FEAT_SLAVE_INIT_FEAT_XCHG=1)
ADD_DEFINITIONS (-DBLE_LL_CFG_FEAT_LE_PING=BLE_LL_CFG_FEAT_LE_ENCRYPTION)
ADD_DEFINITIONS (-DBLE_LL_CFG_FEAT_DATA_LEN_EXT=1)
ADD_DEFINITIONS (-DBLE_LL_CFG_FEAT_LL_PRIVACY=1)
ADD_DEFINITIONS (-DBLE_LL_CFG_FEAT_EXT_SCAN_FILT=0)
ADD_DEFINITIONS (-DBLE_LL_CFG_FEAT_LE_CSA2=0)
ADD_DEFINITIONS (-DBLE_LL_CFG_FEAT_LE_2M_PHY=0)
ADD_DEFINITIONS (-DBLE_LL_CFG_FEAT_LE_CODED_PHY=0)
ADD_DEFINITIONS (-DBLE_LL_CFG_FEAT_LL_EXT_ADV=BLE_EXT_ADV)
ADD_DEFINITIONS (-DBLE_LL_CFG_FEAT_LL_PERIODIC_ADV=BLE_PERIODIC_ADV)
ADD_DEFINITIONS (-DBLE_LL_CFG_FEAT_LL_PERIODIC_ADV_SYNC_CNT=BLE_MAX_PERIODIC_SYNCS)
ADD_DEFINITIONS (-DBLE_LL_EXT_ADV_AUX_PTR_CNT=0)
ADD_DEFINITIONS (-DBLE_PUBLIC_DEV_ADDR="\(uint8_t[6]\){0x00, 0x00, 0x00, 0x00, 0x00, 0x00}")
ADD_DEFINITIONS (-DBLE_LL_DTM=BLE_LL_DIRECT_TEST_MODE)
ADD_DEFINITIONS (-DBLE_LL_DTM_EXTENSIONS=0)
ADD_DEFINITIONS (-DBLE_LL_VND_EVENT_ON_ASSERT=0)
ADD_DEFINITIONS (-DBLE_LL_SYSINIT_STAGE=250)
ADD_DEFINITIONS (-DBLE_LL_DBG_HCI_CMD_PIN=-1)
ADD_DEFINITIONS (-DBLE_LL_DBG_HCI_EV_PIN=-1)
ADD_DEFINITIONS (-DBLE_LL_DIRECT_TEST_MODE=0)
ADD_DEFINITIONS (-DBLE_DEVICE=1)
ADD_DEFINITIONS (-DBLE_LP_CLOCK=1)

# syscfg.vals.BLE_LL_CFG_FEAT_LL_EXT_ADV:
#     BLE_LL_CFG_FEAT_LE_CSA2: 1
#     BLE_HW_WHITELIST_ENABLE: 0
#     BLE_LL_EXT_ADV_AUX_PTR_CNT: 5
# syscfg.vals.!BLE_HOST:
#     BLE_LL_VND_EVENT_ON_ASSERT: 1
# syscfg.restrictions:
#     - OS_CPUTIME_FREQ == 32768

build_component_from (
  src/ble_ll.c
  src/ble_ll_adv.c
  src/ble_ll_conn.c
  src/ble_ll_conn_hci.c
  src/ble_ll_conn_priv.h
  src/ble_ll_ctrl.c
  src/ble_ll_dtm.c
  src/ble_ll_dtm_priv.h
  src/ble_ll_hci.c
  src/ble_ll_hci_ev.c
  src/ble_ll_rand.c
  src/ble_ll_resolv.c
  src/ble_ll_scan.c
  src/ble_ll_sched.c
  src/ble_ll_supp_cmd.c
  src/ble_ll_sync.c
  src/ble_ll_trace.c
  src/ble_ll_utils.c
  src/ble_ll_whitelist.c
  src/ble_ll_xcvr.c
)
